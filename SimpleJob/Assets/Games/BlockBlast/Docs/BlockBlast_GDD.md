# Block Blast 游戏设计文档 (GDD)

## 1. 游戏概述

### 1.1 游戏简介
Block Blast 是一款令人上瘾的方块消除益智游戏，结合了俄罗斯方块和三消游戏的元素。玩家需要将不同形状的方块拖放到游戏板上，填满整行或整列来消除方块并获得分数。

### 1.2 核心玩法
- 拖动下方提供的方块到游戏板上
- 填满整行或整列即可消除
- 消除后获得分数
- 当无法放置任何方块时游戏结束

### 1.3 游戏特色
- 简单易上手，难以精通
- 无需时间限制，可以慢慢思考
- 支持多种方块形状
- 清爽的视觉设计

---

## 2. 游戏规则详解

### 2.1 游戏板
- **尺寸**: 8x8 网格
- **单元格**: 每个单元格可以放置一个方块
- **边界**: 方块不能超出游戏板边界

### 2.2 方块系统

#### 2.2.1 方块类型
游戏包含以下基本方块形状：

| 方块类型 | 形状 | 尺寸 |
|---------|------|------|
| 单格 | ■ | 1x1 |
| 双格横 | ■■ | 1x2 |
| 双格竖 | ■ | 2x1 |
| | ■ | |
| 三格横 | ■■■ | 1x3 |
| 三格竖 | ■ | 3x1 |
| | ■ | |
| | ■ | |
| 2x2方块 | ■■ | 2x2 |
| | ■■ | |
| L形 | ■ | 2x2缺一角 |
| | ■■ | |
| 反L形 | ■ | 2x2缺一角 |
| | ■■ | |
| T形 | ■■■ | T形 |
| | ■ | |

#### 2.2.2 方块颜色
- 每个方块有随机颜色（6种颜色）
- 颜色仅用于视觉区分，不影响消除逻辑

### 2.3 消除规则
1. **行消除**: 当一整行（8个格子）都被填满时，该行消除
2. **列消除**: 当一整列（8个格子）都被填满时，该列消除
3. **同时消除**: 如果同时满足行和列消除条件，同时消除
4. **连锁反应**: 消除后上方的方块会下落，可能产生新的消除

### 2.4 计分系统

#### 2.4.1 基础分数
- 消除1行: 100分
- 消除1列: 100分
- 同时消除行和列: 300分（额外奖励）

#### 2.4.2 连击奖励
- 连续消除有额外奖励
- 连击倍数: 1.5x, 2x, 2.5x, 3x...

#### 2.4.3 特殊奖励
- 一次性消除多行/多列: 额外奖励
- 完美清除（清空整个板）: 1000分奖励

### 2.5 游戏结束条件
当满足以下任一条件时游戏结束：
1. 无法将任何可用方块放置到游戏板上
2. 游戏板被完全填满且无法消除

---

## 3. 游戏流程

### 3.1 游戏循环
```
开始游戏
    ↓
生成初始方块（3个）
    ↓
玩家拖动方块放置
    ↓
检查消除
    ↓
计算分数
    ↓
补充新方块
    ↓
检查游戏结束
    ↓
继续 / 结束
```

### 3.2 回合机制
1. 每回合提供3个随机方块
2. 玩家依次放置这3个方块
3. 放置过程中可以随时消除
4. 3个方块都放置后，生成新的3个方块

---

## 4. 用户界面设计

### 4.1 主界面
- **标题**: Block Blast
- **开始游戏按钮**: 进入游戏
- **设置按钮**: 调整音效、音乐等
- **排行榜按钮**: 查看高分记录

### 4.2 游戏界面

#### 4.2.1 游戏板区域
- 8x8 网格，居中显示
- 网格线清晰可见
- 已放置的方块显示颜色

#### 4.2.2 方块预览区
- 底部显示3个待放置的方块
- 可以拖动到游戏板
- 显示方块的形状和颜色

#### 4.2.3 信息区
- **当前分数**: 实时显示
- **最高分**: 显示历史最高分
- **连击数**: 显示当前连击

#### 4.2.4 控制按钮
- **暂停按钮**: 暂停游戏
- **重置按钮**: 重新开始
- **提示按钮**: 显示可放置位置（可选）

### 4.3 游戏结束界面
- **最终分数**: 大字显示
- **新纪录提示**: 如果是最高分
- **重新开始按钮**: 再来一局
- **返回主菜单按钮**: 回到主界面

---

## 5. 视觉设计

### 5.1 色彩方案
- **背景色**: 深色 (#1a1a2e)
- **网格线**: 浅色 (#3a3a5e)
- **方块颜色**:
  - 红色: #ff6b6b
  - 蓝色: #4ecdc4
  - 绿色: #95e1d3
  - 黄色: #ffd93d
  - 紫色: #a8e6cf
  - 橙色: #ff8b94

### 5.2 动画效果
- **放置动画**: 方块放置时的缩放效果
- **消除动画**: 行/列消除时的闪烁效果
- **分数动画**: 分数增加时的弹出效果
- **连击动画**: 连击时的特殊效果

### 5.3 音效设计
- **放置音效**: 清脆的放置声
- **消除音效**: 愉快的消除声
- **连击音效**: 激动的连击声
- **游戏结束音效**: 温和的结束声

---

## 6. 技术实现

### 6.1 核心类设计

#### 6.1.1 BlockBlastGame (游戏核心)
```csharp
- 管理游戏状态
- 处理方块放置逻辑
- 检测消除
- 计算分数
```

#### 6.1.2 GameBoard (游戏板)
```csharp
- 8x8 网格管理
- 方块位置存储
- 行列检测
```

#### 6.1.3 Block (方块)
```csharp
- 方块形状定义
- 方块颜色
- 旋转支持（可选）
```

#### 6.1.4 BlockSpawner (方块生成器)
```csharp
- 随机生成方块
- 管理可用方块队列
```

#### 6.1.5 ScoreManager (分数管理)
```csharp
- 分数计算
- 连击管理
- 最高分记录
```

### 6.2 输入系统
- 支持鼠标/触摸拖动
- 拖拽预览
- 有效位置高亮
- 无效位置提示

### 6.3 数据持久化
- 保存最高分
- 保存游戏设置
- 支持游戏暂停恢复

---

## 7. 扩展功能

### 7.1 进阶功能
- [ ] 道具系统（炸弹、刷新等）
- [ ] 每日挑战
- [ ] 成就系统
- [ ] 在线排行榜
- [ ] 主题皮肤

### 7.2 难度模式
- **简单模式**: 6x6 网格，简单方块
- **普通模式**: 8x8 网格，标准方块
- **困难模式**: 10x10 网格，复杂方块

---

## 8. 开发计划

### 第一阶段: 核心玩法 (1周)
- [x] 游戏板实现
- [x] 方块系统
- [x] 放置逻辑
- [x] 消除检测

### 第二阶段: 游戏流程 (3天)
- [x] 方块生成
- [x] 回合管理
- [x] 分数系统
- [x] 游戏结束判断

### 第三阶段: UI/UX (3天)
- [x] 游戏界面
- [x] 拖动交互
- [x] 动画效果
- [x] 音效

### 第四阶段: 完善 (2天)
- [x] 测试
- [x] Bug修复
- [x] 性能优化
- [x] 文档

---

## 9. 技术栈

- **引擎**: Unity 2022.3 LTS
- **语言**: C# 
- **UI**: Unity UI (uGUI)
- **动画**: DOTween
- **输入**: Unity Input System

---

## 10. 参考游戏

- Block Blast (官方)
- Block Puzzle
- Tetris
- 1010!
